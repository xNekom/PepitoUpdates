name: Test Secrets

on:
  workflow_dispatch: # Solo ejecuci√≥n manual

jobs:
  test-secrets:
    runs-on: ubuntu-latest

    steps:
    - name: Test Supabase Secrets
      run: |
        echo "üîç Verificando configuraci√≥n de secrets..."

        if [ -z "$SUPABASE_ANON_KEY" ]; then
          echo "‚ùå SUPABASE_ANON_KEY no est√° configurado"
          exit 1
        else
          echo "‚úÖ SUPABASE_ANON_KEY est√° configurado (longitud: ${#SUPABASE_ANON_KEY})"
        fi

        if [ -z "$SUPABASE_EDGE_FUNCTION_URL" ]; then
          echo "‚ùå SUPABASE_EDGE_FUNCTION_URL no est√° configurado"
          exit 1
        else
          echo "‚úÖ SUPABASE_EDGE_FUNCTION_URL: $SUPABASE_EDGE_FUNCTION_URL"
        fi

        echo "üéâ Todos los secrets est√°n configurados correctamente!"
      env:
        SUPABASE_ANON_KEY: ${{ secrets.SUPABASE_ANON_KEY }}
        SUPABASE_EDGE_FUNCTION_URL: ${{ secrets.SUPABASE_EDGE_FUNCTION_URL }}